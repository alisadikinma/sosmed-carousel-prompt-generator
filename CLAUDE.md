# Sosmed Carousel Prompt Generator — Claude Project Instructions

## Project Overview

Claude Code plugin that generates cinematic AI image prompts for social media carousels. 1 skill + 1 agent + 9 reference documents as RAG knowledge base.

## Architecture

| Path | Purpose |
|------|---------|
| `.claude-plugin/plugin.json` | Plugin metadata (name, version, author) |
| `.claude-plugin/marketplace.json` | Marketplace listing |
| `hooks/hooks.json` | SessionStart hook definition |
| `hooks/session-start.sh` | Session start script — announces available skills |
| `skills/carousel-prompt-generator/SKILL.md` | Main skill definition — carousel prompt generation |
| `skills/validate-references/SKILL.md` | Cross-file consistency checker (6 checks) |
| `skills/new-localization/SKILL.md` | Scaffold new localization files + wire reference tables |
| `agents/carousel-prompt-generator.md` | Subagent for batch carousel prompt work |
| `references/` | 9 reference docs read on-demand by skill/agent |
| `README.md` | Repo README |
| `LICENSE` | MIT license |

### Reference Files

| File | When Used |
|------|-----------|
| `creator-bible.md` | ALWAYS — creator identity, brand rules, gradient zones, holiday production, brand-in-image specs |
| `hook-science.md` | Hook slides — clickbait psychology, 5 hook categories, power words, scoring, engagement data |
| `carousel-rebranding.md` | Rebranding third-party carousels |
| `platform-specs.md` | Platform routing, aspect ratios, Nano Banana Pro specs |
| `cinematography-lut.md` | Lighting/lens/film stock/atmosphere/DP signature lookup |
| `prompt-formulas.md` | Prompt templates (text-in-image), quality checklists |
| `localization-id.md` | Indonesian localization extras, holidays, AI bias countermeasures |
| `carousel-best-practices.md` | Carousel design and engagement best practices |
| `caption-copywriting.md` | Caption formulas, character limits, hashtag strategy per platform |

## Key Concepts

- **Image-Only Plugin**: Nano Banana Pro is the exclusive image generation platform
- **Text-in-Image**: All text (headlines, accent words, branding, SWIPE CTA) rendered directly in the AI-generated image via prompt — NOT post-production. Font must be **MASSIVE billboard-scale, extra bold/black weight**
- **WOW Quality Gate**: 8-point scoring (lighting, depth, atmosphere, color, emotion, camera, texture, cinematic ref). **All 8 mandatory, minimum 6/8 for ALL slide types**
- **Platform-Specific Aspect Ratios**: IG Feed 4:5, TikTok/Reels 9:16, LinkedIn 4:5/1:1, Default 4:5
- **Subject Brand Context**: When discussing a specific company (Google, WhatsApp, etc.), their brand elements MUST be visible in the image for context. Without it, factual claims are meaningless
- **No Competitor Branding**: No other creator badges, watermarks, handles, or source category tags (e.g., "TECHNOLOGY" badge from source = competitor branding)
- **Creator Face Rules**: Hook/CTA/Thumbnail = ALWAYS. B-Roll with human figures = ALWAYS (creator as most prominent figure). B-Roll without humans = NO face
- **Watermark**: @handle watermark **CENTER of image, 30% opacity** on all slides. For split-panel/comparison: watermark **on the vertical divider line**
- **SWIPE FOR MORE**: "GESER UNTUK LANJUT >" rendered in-image on all slides except CTA (20-30% engagement boost)
- **Gradient Zones**: Hook 40%, B-Roll 35%, Split-Panel 30%, CTA 40%, Thumbnail 25% (source of truth in creator-bible.md Section 7)
- **Default Language**: Bahasa Indonesia for all in-image text and captions. English only when user explicitly requests
- **Auto Captions**: Captions for all 3 platforms (IG + TikTok + LinkedIn) generated by DEFAULT with every carousel
- **Fact Verification**: All factual claims auto-verified via web search before prompt generation
- **Interactive Design**: Agent pauses + asks user at ambiguous slides (costumes, settings). Human figures = automatic creator face
- **Hook Science**: 5 psychology-based hook categories (Visual Shock, Negative Bias, Curiosity Gap, Relatability, Speed & Value). Hook headlines need min 3/5 scoring features
- **5-Hashtag Era**: IG max 5 (Dec 2025), TikTok max 5 (Aug 2025), LinkedIn 3-5
- **Default specs**: 4K, Kodak Portra 400, warm golden amber grade, 80-200 word prompts
- **Content Language**: Single language per carousel — Bahasa Indonesia default, never bilingual mix

## Capabilities

1. **Carousel image prompts** — Nano Banana Pro, per-slide with text-in-image + WOW scoring (min 6/8)
2. **Thumbnail prompts** — creator face 50-60%, exaggerated emotion, topic visual, text in-image
3. **Carousel rebranding** — convert third-party designs to user's brand (remove competitor branding, keep subject brand)
4. **Multi-platform export** — IG + TikTok + LinkedIn with platform-specific aspect ratios
5. **Caption copywriting** — auto-generated for all 3 platforms with every carousel (Bahasa default)
6. **Fact verification** — auto-verify all claims before prompt generation
7. **Hook optimization** — psychology-based hook selection using 5 categories + power words + scoring

### Creator Identity (VERBATIM Rule)
- User provides: physical description, face reference image, brand handle, brand icon, accent color
- Physical description is used **word-for-word** in every prompt
- This ensures AI model consistency across all generated content
- Template in `references/creator-bible.md`

### Creator Face Allocation
| Slide Type | Face? | Why |
|------------|-------|-----|
| Hook | Yes (always) | Exaggerated emotion grabs attention |
| Content body (no humans) | No | Topic visuals only, no distraction |
| Content body (with humans) | **Yes (always)** | Creator as most prominent figure — no need to ask |
| Split-panel | Yes | Creator in both or relevant panel |
| CTA | Yes (always) | Warm confident connection |
| Thumbnail | Yes (always) | Curiosity gap drives clicks |

### Brand Elements In-Image
| Element | Where | Every Slide? |
|---------|-------|-------------|
| Brand icon | Top-right corner | YES |
| @handle watermark | **CENTER of image** (30% opacity). On **vertical divider** for split-panel | YES |
| Category tag | Above headline (creator's own, NOT from source) | YES |
| Headline | Bottom gradient zone — **MASSIVE billboard-scale font** | YES |
| Subject brand | In scene (logo/UI of discussed company) | When discussing specific brand |
| SWIPE CTA | Bottom center | All except CTA |

## Technical Defaults

| Setting | Value |
|---------|-------|
| Aspect ratio | Platform-specific (IG 4:5, TikTok 9:16, LinkedIn 4:5) |
| Film stock | Kodak Portra 400 (warm) |
| Color temp | 3200-3500K |
| Accent color | #F5A623 (golden yellow) |
| Image res | 4K (Nano Banana Pro) |
| Prompt length | 80-200 words (up to 250 for complex) |
| WOW minimum | 6/8, all 8 elements mandatory |
| Default language | Bahasa Indonesia |
| Captions | All 3 platforms by default |
| Font weight | Extra Bold / Black weight (billboard-scale) |
| Watermark position | Center of image (vertical divider for split-panel) |
| Watermark opacity | 30% on ALL slides |

## Conventions for Contributors

### Adding a New Reference File
1. Create `.md` file in `references/`
2. Add entry to the Reference Files table in `SKILL.md`
3. Add entry to the Reference Files table in `agents/carousel-prompt-generator.md`
4. Update this CLAUDE.md file
5. Run `/validate-references` to verify cross-file consistency

### Adding a New Localization
1. Create `references/localization-{code}.md` (e.g., `localization-hi.md` for Hindi)
2. Follow the structure in `localization-id.md`

### File Naming
- Reference files: lowercase, kebab-case (e.g., `carousel-best-practices.md`)
- No spaces in filenames
- Prefix localizations with `localization-`

## Debugging

| Issue | Check |
|-------|-------|
| Prompt too long | Nano Banana sweet spot is 80-200 words (up to 250 complex) |
| Image resolution low | Ensure `4K` uppercase in config, not `4k` |
| Creator face inconsistent | Verify face reference filename matches across prompts |
| Wrong aspect ratio | Check platform-specs.md for platform → ratio mapping |
| Cold/blue tone | Default is Kodak Portra 400 (warm) — check color temp is 3200-3500K |
| Source branding leak | Check all slides for competitor category tags, badges, watermarks from source |
| Missing subject brand | If slide discusses Google/WhatsApp/etc., their logo/UI MUST be visible |
| Text too small | Must be MASSIVE billboard-scale, extra bold/black weight — check prompt wording |
| Text not in image | Verify prompt includes text rendering block (in-image, not post-production) |
| Watermark wrong position | Center of image (30% opacity). Vertical divider for split-panel |
| Wrong language | Default is Bahasa Indonesia — check if user requested English |
| Missing captions | Captions for all 3 platforms are default — check if user filtered |
| WOW too low | Min 6/8, all 8 elements mandatory — check each element is in prompt |
| Weak hook | Check hook-science.md — need min 3/5 scoring features (question, number, power word, negative frame, unrevealed payoff) |
| Missing creator face in crowd | B-Roll with humans = creator ALWAYS as most prominent figure |
| Unverified facts | All factual claims must be web-searched before prompt generation |
| Cross-file drift | Run `/validate-references` — checks SWIPE, hashtags, gradients, aspect ratios |

---

**Version:** 2.1.0
**Last Updated:** February 2026
